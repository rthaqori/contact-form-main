<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">

  <title>Frontend Mentor | Contact form</title>

  <link rel="stylesheet" href="style.css">

</head>

<body>

  <div class="container box">
    <div class="form box">
      <h1>Contact Us</h1>
      <div class="customer-name box">
        <div class="first-name box">
          <label for="first_name">First Name <span>*</span></label>
          <input type="text" id="first_name" required>
          <span class="error">This field is required</span>
        </div>
        <div class="last-name box">
          <label for="last_name">Last Name <span>*</span></label>
          <input type="text" id="last_name" required>
          <span class="error">This field is required</span>
        </div>
      </div>
      <div class="email box">
        <label for="email">Email <span>*</span></label>
        <input type="email" id="email" required>
        <span class="error">Please enter a valid email address</span>
      </div>
      <div class="query-type box">
        <label for="query_type">Query Type <span>*</span></label>
        <div class="checkbox box">
          <div class="general selected box">
            <input class="check circle" type="checkbox" id="general_enquiry">
            <label for="general_enquiry">General Enquiry</label>
          </div>
          <div class="support selected box">
            <input class="check circle" type="checkbox" id="support_request">
            <label for="support_request">Support Request</label>
          </div>
        </div>
        <span class="error">Please select a query type</span>
      </div>
      <div class="message box">
        <label for="message">Message <span>*</span></label>
        <textarea name="message" id="message" cols="30" rows="10" required></textarea>
        <span class="error">This field is required</span>
      </div>
      <div class="consent box">
        <div class="terms box">
          <input class="check" type="checkbox" id="terms" required>
          <label for="terms">I consent to being contacted by the team <span>*</span></label>
        </div>
        <span class="error">To submit this form please consent to being contacted</span>
      </div>
      <div class="submit">
        <button type="button" id="submitBtn">Submit</button>
      </div>
    </div>
  </div>

 
  <script>
    document.getElementById('submitBtn').addEventListener('click', function () {
      let isValid = true;
      const inputs = document.querySelectorAll('input[required], textarea[required]');
      const checkboxes = document.querySelectorAll('.checkbox input[type="checkbox"]');
      const consentbox = document.querySelectorAll('.consent input[type="checkbox"]');
      const checkboxError = document.querySelector('.query-type .error');
      const consentError = document.querySelector('.consent .error');

      // Regular expression for validating email
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

      // Reset all error messages
      document.querySelectorAll('.error').forEach(error => {
        error.classList.remove('visible');
      });

      // Validate text inputs and textarea
      inputs.forEach(input => {
        if (!input.value.trim()) {
          input.nextElementSibling.classList.add('visible');
          isValid = false;
        } else if (input.type === 'email' && !emailRegex.test(input.value)) {
          input.nextElementSibling.classList.add('visible');
          isValid = false;
        }
      });

      // Validate checkboxes (at least one should be checked)
      if (!Array.from(checkboxes).some(checkbox => checkbox.checked)) {
        checkboxError.classList.add('visible');
        isValid = false;
      }

      if (!Array.from(consentbox).some(checkbox => checkbox.checked)) {
        consentError.classList.add('visible');
        isValid = false;
      }

      // Submit the form if valid
      if (isValid) {
        alert('Form submitted successfully!');
        // Here you can add code to actually submit the form
      }
    });

    document.addEventListener('DOMContentLoaded', function() {
    // Get all checkboxes
    const checkboxes = document.querySelectorAll('.check.circle');

    checkboxes.forEach(function(checkbox) {
        // Add change event listener to each checkbox
        checkbox.addEventListener('change', function() {
            // Get the parent div of the checkbox
            const parentDiv = checkbox.closest('.box');
            
            if (checkbox.checked) {
                // Change the background color of the parent div when checked
                parentDiv.style.backgroundColor = 'hsl(169, 99%, 42%)'; // You can change this color as needed
            } else {
                // Reset the background color when unchecked
                parentDiv.style.backgroundColor = ''; // Reset to original or use a specific color
            }
        });
    });
});

  </script>
</body>

</body>

</html>
